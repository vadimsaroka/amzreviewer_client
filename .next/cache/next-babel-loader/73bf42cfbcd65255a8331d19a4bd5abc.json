{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/vadim/Documents/amz/client/components/SignUpPage.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport axios from \"axios\";\nimport Router from \"next/router\";\nimport Link from \"next/link\";\n\nclass SignUpPage extends React.Component {\n  constructor() {\n    super();\n\n    _defineProperty(this, \"onSubmit\", async e => {\n      e.preventDefault();\n\n      try {\n        const res = await axios({\n          method: \"POST\",\n          url: \"https://amzreviewserver.herokuapp.com/api/v1/users/signup\",\n          data: {\n            name: this.state.name,\n            email: this.state.email,\n            password: this.state.password,\n            passwordConfirm: this.state.passwordConfirm\n          }\n        });\n        document.cookie = `jwt=${res.data.token}`;\n\n        if (res.data.status === \"success\") {\n          window.setTimeout(() => {\n            Router.push(`/me`);\n          }, 500);\n        }\n      } catch (err) {\n        alert(err.response.data.message);\n      }\n    });\n\n    this.state = {\n      name: \"\",\n      email: \"\",\n      password: \"\",\n      passwordConfirm: \"\"\n    };\n  }\n\n  render() {\n    return __jsx(\"main\", {\n      className: \"main\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"login-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, __jsx(\"h2\", {\n      className: \"heading-secondary ma-bt-lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, \"Create your account!\"), __jsx(\"form\", {\n      onSubmit: this.onSubmit,\n      className: \"form form--signup\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"form__group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, __jsx(\"label\", {\n      className: \"form__label\",\n      htmlFor: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, \"Your name\"), __jsx(\"input\", {\n      onChange: e => this.setState({\n        name: e.target.value\n      }),\n      className: \"form__input\",\n      id: \"name\",\n      type: \"text\",\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    })), __jsx(\"div\", {\n      className: \"form__group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, __jsx(\"label\", {\n      className: \"form__label\",\n      htmlFor: \"email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, \"Email address\"), __jsx(\"input\", {\n      onChange: e => this.setState({\n        email: e.target.value\n      }),\n      className: \"form__input\",\n      id: \"email\",\n      type: \"email\",\n      placeholder: \"you@example.com\",\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    })), __jsx(\"div\", {\n      className: \"form__group ma-bt-md\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, __jsx(\"label\", {\n      className: \"form__label\",\n      htmlFor: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \"Password\"), __jsx(\"input\", {\n      onChange: e => this.setState({\n        password: e.target.value\n      }),\n      className: \"form__input\",\n      id: \"password\",\n      type: \"password\",\n      placeholder: \"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\",\n      required: true,\n      minLength: \"8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    })), __jsx(\"div\", {\n      className: \"form__group ma-bt-md\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, __jsx(\"label\", {\n      className: \"form__label\",\n      htmlFor: \"passwordConfirm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"Confirm password\"), __jsx(\"input\", {\n      onChange: e => this.setState({\n        passwordConfirm: e.target.value\n      }),\n      className: \"form__input\",\n      id: \"passwordConfirm\",\n      type: \"password\",\n      placeholder: \"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\",\n      required: true,\n      minLength: \"8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    })), __jsx(\"div\", {\n      className: \"form__group space-between\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, __jsx(\"button\", {\n      className: \"btn btn--primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \"Sign up\"), __jsx(Link, {\n      href: \"/login\",\n      as: \"/login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, __jsx(\"a\", {\n      className: \"text-link\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"Already have an account? Sign in\"))))));\n  }\n\n}\n\nexport default SignUpPage;","map":{"version":3,"sources":["/home/vadim/Documents/amz/client/components/SignUpPage.js"],"names":["axios","Router","Link","SignUpPage","React","Component","constructor","e","preventDefault","res","method","url","data","name","state","email","password","passwordConfirm","document","cookie","token","status","window","setTimeout","push","err","alert","response","message","render","onSubmit","setState","target","value"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport Router from \"next/router\";\nimport Link from \"next/link\";\n\nclass SignUpPage extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      name: \"\",\n      email: \"\",\n      password: \"\",\n      passwordConfirm: \"\"\n    };\n  }\n\n  onSubmit = async e => {\n    e.preventDefault();\n\n    try {\n      const res = await axios({\n        method: \"POST\",\n        url: \"https://amzreviewserver.herokuapp.com/api/v1/users/signup\",\n        data: {\n          name: this.state.name,\n          email: this.state.email,\n          password: this.state.password,\n          passwordConfirm: this.state.passwordConfirm\n        }\n      });\n\n      document.cookie = `jwt=${res.data.token}`;\n\n      if (res.data.status === \"success\") {\n        window.setTimeout(() => {\n          Router.push(`/me`);\n        }, 500);\n      }\n    } catch (err) {\n      alert(err.response.data.message);\n    }\n  };\n\n  render() {\n    return (\n      <main className=\"main\">\n        <div className=\"login-form\">\n          <h2 className=\"heading-secondary ma-bt-lg\">Create your account!</h2>\n          <form onSubmit={this.onSubmit} className=\"form form--signup\">\n            <div className=\"form__group\">\n              <label className=\"form__label\" htmlFor=\"name\">\n                Your name\n              </label>\n              <input\n                onChange={e => this.setState({ name: e.target.value })}\n                className=\"form__input\"\n                id=\"name\"\n                type=\"text\"\n                required\n              />\n            </div>\n            <div className=\"form__group\">\n              <label className=\"form__label\" htmlFor=\"email\">\n                Email address\n              </label>\n              <input\n                onChange={e => this.setState({ email: e.target.value })}\n                className=\"form__input\"\n                id=\"email\"\n                type=\"email\"\n                placeholder=\"you@example.com\"\n                required\n              />\n            </div>\n            <div className=\"form__group ma-bt-md\">\n              <label className=\"form__label\" htmlFor=\"password\">\n                Password\n              </label>\n              <input\n                onChange={e => this.setState({ password: e.target.value })}\n                className=\"form__input\"\n                id=\"password\"\n                type=\"password\"\n                placeholder=\"••••••••\"\n                required\n                minLength=\"8\"\n              />\n            </div>\n            <div className=\"form__group ma-bt-md\">\n              <label className=\"form__label\" htmlFor=\"passwordConfirm\">\n                Confirm password\n              </label>\n              <input\n                onChange={e =>\n                  this.setState({ passwordConfirm: e.target.value })\n                }\n                className=\"form__input\"\n                id=\"passwordConfirm\"\n                type=\"password\"\n                placeholder=\"••••••••\"\n                required\n                minLength=\"8\"\n              />\n            </div>\n            <div className=\"form__group space-between\">\n              <button className=\"btn btn--primary\">Sign up</button>\n              <Link href=\"/login\" as=\"/login\">\n                <a className=\"text-link\">Already have an account? Sign in</a>\n              </Link>\n            </div>\n          </form>\n        </div>\n      </main>\n    );\n  }\n}\n\nexport default SignUpPage;\n"]},"metadata":{},"sourceType":"module"}